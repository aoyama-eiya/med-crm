(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,44129,e=>{"use strict";var t=e.i(43476),l=e.i(71645);let s=[{id:"tab1",label:"メニューA (メイン)",icon:"home"},{id:"tab2",label:"メニューB (サブ)",icon:"widgets"}],a=[{id:"grid-3x2",name:"標準 (6ボタン)",icon:"grid_view"},{id:"large-1",name:"強調 (1特大+2小)",icon:"ad_units"}];function r(){let[e,r]=(0,l.useState)(!0),[c,i]=(0,l.useState)("tab1"),[n,d]=(0,l.useState)("grid-3x2"),[x,o]=(0,l.useState)(!1),[m,b]=(0,l.useState)(0),[h,g]=(0,l.useState)({"tab1-0":{type:"web",label:"予約サイト",value:"https://example.com"},"tab1-1":{type:"tel",label:"電話予約",value:"03-1234-5678"}}),[p,f]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f(!0);let e=localStorage.getItem("richMenuConfig");if(e)try{let t=JSON.parse(e);d(t.template||"grid-3x2"),g(t.slots||{}),r(t.useTabs??!0),i(t.activeTab||"tab1"),o(t.isRotated??!1)}catch(e){}},[]),(0,l.useEffect)(()=>{p&&(localStorage.setItem("richMenuConfig",JSON.stringify({template:n,slots:h,useTabs:e,activeTab:c,isRotated:x})),window.dispatchEvent(new Event("storage-rich-menu")))},[n,h,e,c,x,p]);let u=()=>null===m?{type:"web",label:"",value:""}:h[`${c}-${m}`]||{type:"web",label:"ボタン #"+(m+1),value:""},y=(e,t)=>{if(null===m)return;let l=`${c}-${m}`;g(s=>({...s,[l]:{...u(),[e]:t}}))},j="grid-3x2"===n?"grid-cols-3 grid-rows-2":"large-1"===n?"grid-cols-2 grid-rows-2":"grid-cols-3 grid-rows-2";return(0,t.jsxs)("div",{className:"h-full flex flex-col gap-6",children:[(0,t.jsxs)("header",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsx)("h2",{className:"text-2xl font-bold text-mac-text",children:"リッチメニュー設定"})}),(0,t.jsx)("button",{className:"bg-mac-accent text-white px-6 py-2.5 font-bold shadow-sm hover:opacity-90 flex items-center gap-2 transition-all",children:"設定を公開"})]}),(0,t.jsxs)("div",{className:"flex-1 min-h-0 grid grid-cols-1 lg:grid-cols-12 gap-6 pb-2",children:[(0,t.jsxs)("div",{className:"lg:col-span-7 flex flex-col gap-4 overflow-y-auto pr-2",children:[(0,t.jsxs)("section",{className:"bg-white p-6 border border-gray-200 shadow-[0_1px_3px_rgba(0,0,0,0.1)] flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"font-bold flex items-center gap-2 text-mac-text text-sm uppercase tracking-wide",children:[(0,t.jsx)("span",{className:"w-5 h-5 bg-mac-accent text-white flex items-center justify-center text-xs",children:"1"}),"基本設定"]}),(0,t.jsxs)("div",{className:"flex items-center gap-px bg-gray-100 p-0.5 border border-gray-200",children:[(0,t.jsx)("button",{onClick:()=>r(!1),className:`px-4 py-1.5 text-xs font-bold transition-all ${!e?"bg-white shadow-sm text-mac-text":"text-gray-500 hover:bg-black/5"}`,children:"タブなし"}),(0,t.jsx)("button",{onClick:()=>r(!0),className:`px-4 py-1.5 text-xs font-bold transition-all ${e?"bg-white shadow-sm text-mac-text":"text-gray-500 hover:bg-black/5"}`,children:"タブあり"})]})]}),e&&(0,t.jsx)("div",{className:"flex gap-2",children:s.map(e=>(0,t.jsxs)("button",{onClick:()=>i(e.id),className:`flex-1 py-3 px-3 border transition-all flex items-center justify-center gap-2 text-sm ${c===e.id?"border-mac-accent bg-blue-50 text-mac-accent font-bold":"border-gray-200 bg-white hover:bg-gray-50 text-gray-600"}`,children:[(0,t.jsx)("span",{className:"material-symbols-rounded text-lg",children:e.icon}),e.label]},e.id))}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-4",children:a.map(e=>(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("button",{onClick:()=>d(e.id),className:`py-4 px-4 border text-left flex flex-col items-center gap-2 transition-all ${n===e.id?"border-mac-accent bg-blue-50 text-mac-accent":"border-gray-200 bg-white hover:bg-gray-50 text-gray-600"}`,children:[(0,t.jsx)("span",{className:"material-symbols-rounded text-3xl",children:e.icon}),(0,t.jsx)("span",{className:"text-xs font-bold",children:e.name})]}),"large-1"===e.id&&"large-1"===n&&(0,t.jsxs)("button",{onClick:()=>o(!x),className:"text-xs font-bold text-mac-accent flex items-center justify-center gap-1 hover:underline py-1",children:[(0,t.jsx)("span",{className:"material-symbols-rounded text-sm",children:"rotate_right"}),"向きを変更 (",x?"縦割り":"横割り",")"]})]},e.id))})]}),(0,t.jsxs)("section",{className:"flex-1 bg-white p-6 border border-gray-200 shadow-[0_1px_3px_rgba(0,0,0,0.1)] flex flex-col gap-4",children:[(0,t.jsxs)("h3",{className:"font-bold flex items-center gap-2 text-mac-text text-sm uppercase tracking-wide",children:[(0,t.jsx)("span",{className:"w-5 h-5 bg-indigo-500 text-white flex items-center justify-center text-xs",children:"2"}),"ボタン設定"]}),null!==m?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm font-bold text-mac-accent bg-blue-50 p-2 inline-block",children:[(0,t.jsx)("span",{className:"material-symbols-rounded text-lg",children:"touch_app"}),"選択中: ボタン #",m+1]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 mb-1.5 ",children:"アクションタイプ"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{value:u().type,onChange:e=>y("type",e.target.value),className:"w-full appearance-none bg-white border border-gray-300 px-4 py-3 text-sm focus:ring-2 focus:ring-mac-accent outline-none rounded-none",children:[(0,t.jsx)("option",{value:"web",children:"Webサイトを開く"}),(0,t.jsx)("option",{value:"tel",children:"電話をかける"}),(0,t.jsx)("option",{value:"text",children:"メッセージ送信"})]}),(0,t.jsx)("span",{className:"absolute right-3 top-3.5 pointer-events-none text-gray-400 material-symbols-rounded",children:"expand_more"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:"ボタンラベル"}),(0,t.jsx)("input",{type:"text",value:u().label,onChange:e=>y("label",e.target.value),className:"w-full bg-white border border-gray-300 px-4 py-3 text-sm focus:ring-2 focus:ring-mac-accent outline-none",placeholder:"ボタン名"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-xs font-bold text-gray-500 mb-1.5",children:"tel"===u().type?"電話番号":"web"===u().type?"URL":"送信テキスト"}),(0,t.jsx)("input",{type:"tel"===u().type?"tel":"text",value:u().value,onChange:e=>y("value",e.target.value),placeholder:"tel"===u().type?"03-1234-5678":"https://...",className:"w-full bg-white border border-gray-300 px-4 py-3 text-sm focus:ring-2 focus:ring-mac-accent outline-none font-mono"})]})]}):(0,t.jsx)("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400 gap-2",children:(0,t.jsx)("p",{className:"text-sm font-bold",children:"右側のプレビューからボタンを選択してください"})})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-5 flex flex-col h-full bg-[#8cabd9] p-6 shadow-inner border border-gray-200 relative overflow-hidden items-center justify-center",children:[(0,t.jsx)("div",{className:"w-[300px] h-[600px] bg-white shadow-2xl flex flex-col relative flex-shrink-0 border-4 border-[#333]",children:(0,t.jsxs)("div",{className:"bg-[#8cabd9] w-full h-full flex flex-col relative isolate overflow-hidden",children:[(0,t.jsxs)("div",{className:"h-6 w-full flex justify-between px-4 items-center bg-[#2c3e50]/20 z-20 text-[10px] text-white font-bold backdrop-blur-sm",children:[(0,t.jsx)("span",{children:"9:41"}),(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("span",{className:"material-symbols-rounded text-[10px]",children:"wifi"}),(0,t.jsx)("span",{className:"material-symbols-rounded text-[10px]",children:"battery_full"})]})]}),(0,t.jsxs)("div",{className:"h-12 bg-[#232d36]/90 w-full z-10 flex items-center px-4 text-white shadow-sm border-b border-white/5 gap-3 backdrop-blur-md",children:[(0,t.jsx)("span",{className:"material-symbols-rounded text-lg",children:"arrow_back_ios"}),(0,t.jsx)("span",{className:"text-sm font-bold flex-1",children:"Med CRM 公式"}),(0,t.jsx)("span",{className:"material-symbols-rounded text-lg",children:"search"}),(0,t.jsx)("span",{className:"material-symbols-rounded text-lg",children:"menu"})]}),(0,t.jsx)("div",{className:"flex-1 p-3 space-y-4 overflow-y-auto bg-[#8cabd9]",children:(0,t.jsxs)("div",{className:"flex gap-2 items-end",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-300 border border-white flex-shrink-0"}),(0,t.jsxs)("div",{className:"bg-white p-3 rounded-xl rounded-tl-none text-xs text-[#1d1d1f] shadow-sm max-w-[75%] leading-relaxed relative bubble-arrow",children:[(0,t.jsx)("p",{children:"メニューからご希望のアクションを選択してください。"}),(0,t.jsx)("span",{className:"text-[9px] text-gray-400 absolute -bottom-4 right-0",children:"9:41"})]})]})}),(0,t.jsxs)("div",{className:"bg-white flex flex-col w-full z-20 border-t border-gray-300 shadow-[0_-2px_10px_rgba(0,0,0,0.1)]",children:[e&&(0,t.jsx)("div",{className:"flex border-b border-gray-200 bg-[#F5F5F5] h-10",children:s.map(e=>(0,t.jsx)("div",{className:`flex-1 flex items-center justify-center text-[11px] font-bold cursor-pointer relative ${c===e.id?"text-[#1d1d1f] bg-white":"text-gray-500 hover:bg-gray-100"}`,children:e.label.split(" ")[0]},e.id))}),(0,t.jsx)("div",{className:"aspect-[4/3] w-full bg-white relative",children:(0,t.jsx)("div",{className:`w-full h-full grid gap-px bg-gray-200 border-2 border-transparent p-px ${j}`,children:Array.from({length:"grid-3x2"===n?6:3}).map((e,l)=>{let s=h[`${c}-${l}`],a=m===l,r="large-1"===n&&0===l?x?"row-span-2 w-full h-full":"col-span-2 w-full h-full":"";return(0,t.jsxs)("button",{onClick:()=>b(l),className:`relative bg-white hover:bg-gray-50 transition-all flex flex-col items-center justify-center gap-1 group overflow-hidden ${r} ${a?"ring-2 ring-mac-accent z-10":""}`,children:[(0,t.jsx)("span",{className:`material-symbols-rounded text-2xl ${a?"text-mac-accent":"text-gray-400"}`,children:s?.type==="tel"?"call":s?.type==="web"?"public":"smart_button"}),(0,t.jsx)("span",{className:`text-[10px] font-bold truncate w-full px-1 text-center ${a?"text-mac-accent":"text-[#1d1d1f]"}`,children:s?.label||`Btn ${l+1}`})]},l)})})}),(0,t.jsxs)("div",{className:"h-12 bg-white flex items-center justify-between px-4 border-t border-gray-200",children:[(0,t.jsx)("span",{className:"material-symbols-rounded text-2xl text-gray-400",children:"keyboard"}),(0,t.jsx)("div",{className:"flex-1 mx-3 h-8 bg-gray-100 rounded-full flex items-center px-3 text-gray-400 text-xs",children:"メッセージを入力"}),(0,t.jsx)("span",{className:"material-symbols-rounded text-2xl text-gray-400",children:"mic"})]})]})]})}),(0,t.jsx)("div",{className:"mt-4 text-center",children:(0,t.jsx)("p",{className:"text-xs font-bold text-white drop-shadow-md",children:"プレビュー (LINE Mockup)"})})]})]})]})}e.s(["default",()=>r])}]);